{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Audio.js","webpack:///./src/Canvas.js","webpack:///./src/Element.js","webpack:///./src/EventIniter/TouchEvent.js","webpack:///./src/EventIniter/index.js","webpack:///./src/EventTarget.js","webpack:///./src/FileReader.js","webpack:///./src/HTMLAudioElement.js","webpack:///./src/HTMLElement.js","webpack:///./src/HTMLMediaElement.js","webpack:///./src/Image.js","webpack:///./src/Node.js","webpack:///./src/WebSocket.js","webpack:///./src/WindowProperties.js","webpack:///./src/XMLHttpRequest.js","webpack:///./src/constructor.js","webpack:///./src/document.js","webpack:///./src/index.js","webpack:///./src/localStorage.js","webpack:///./src/location.js","webpack:///./src/navigator.js","webpack:///./src/performance.js","webpack:///./src/util/index.js","webpack:///./src/window.js"],"names":["HAVE_NOTHING","HAVE_METADATA","HAVE_CURRENT_DATA","HAVE_FUTURE_DATA","HAVE_ENOUGH_DATA","_innerAudioContext","WeakMap","_src","_loop","_autoplay","Audio","url","readyState","set","innerAudioContext","wx","createInnerAudioContext","onCanplay","dispatchEvent","type","onPlay","onPause","onEnded","onError","get","src","console","warn","play","pause","mediaType","indexOf","newAudio","loop","autoplay","currentTime","value","seek","paused","HTMLAudioElement","Canvas","hasModifiedCanvasPrototype","hasInit2DContextConstructor","hasInitWebGLContextConstructor","canvas","createCanvas","__proto__","HTMLCanvasElement","_getContext","getContext","getBoundingClientRect","ret","top","left","width","window","innerWidth","height","innerHeight","ELement","className","children","Node","TouchEvent","target","currentTarget","touches","targetTouches","changedTouches","preventDefault","noop","stopPropagation","touchEventHandlerFactory","event","touchEvent","Array","prototype","slice","call","timeStamp","document","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","_events","EventTarget","listener","options","events","push","capture","once","passive","listeners","length","i","splice","FileReader","HTMLMediaElement","HTMLElement","tagName","childern","style","insertBefore","innerHTML","toUpperCase","name","parseInt","fontSize","Number","isNaN","Element","Image","image","createImage","childNodes","node","TypeError","copyNode","Object","create","assign","index","findIndex","child","_socketTask","WebSocket","protocols","binaryType","bufferedAmount","extensions","onclose","onerror","onmessage","onopen","protocol","test","CONNECTING","socketTask","connectSocket","isArray","onClose","res","CLOSED","onMessage","onOpen","OPEN","Error","errMsg","code","reason","CLOSING","close","data","ArrayBuffer","send","getSystemInfoSync","screenWidth","screenHeight","devicePixelRatio","screen","availWidth","availHeight","ontouchstart","ontouchmove","ontouchend","performance","_url","_method","_requestHeader","_responseHeader","_requestTask","_triggerEvent","args","apply","_changeReadyState","XMLHttpRequest","onabort","onload","onloadstart","onprogress","ontimeout","onloadend","onreadystatechange","response","responseText","responseType","responseXML","status","statusText","upload","withCredentials","ev","cb","myRequestTask","abort","responseHeader","keys","map","header","join","method","OPENED","request","success","statusCode","JSON","stringify","e","HEADERS_RECEIVED","LOADING","bytes","Uint8Array","len","byteLength","String","fromCharCode","DONE","fail","myHeader","UNSEND","HTMLImageElement","visibilityState","documentElement","hidden","location","head","body","createElement","getElementById","id","getElementsByTagName","getElementsByName","querySelector","query","querySelectorAll","addEventListener","removeEventListener","_window","global","GameGlobal","inject","platform","key","descriptor","getOwnPropertyDescriptor","configurable","defineProperty","parent","__isAdapterInjected","localStorage","getStorageInfoSync","n","getItem","getStorageSync","setItem","setStorageSync","removeItem","removeStorageSync","clear","clearStorageSync","href","reload","navigator","language","appVersion","userAgent","onLine","geolocation","getCurrentPosition","watchPosition","clearWatch","getPerformance","wxPerf","initTime","now","clientPerfAdapter","Intl"],"mappings":"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","file":"weapp-pixi-adapter.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import HTMLAudioElement from './HTMLAudioElement'\n\nconst HAVE_NOTHING = 0\nconst HAVE_METADATA = 1\nconst HAVE_CURRENT_DATA = 2\nconst HAVE_FUTURE_DATA = 3\nconst HAVE_ENOUGH_DATA = 4\n\nconst _innerAudioContext = new WeakMap()\nconst _src = new WeakMap()\nconst _loop = new WeakMap()\nconst _autoplay = new WeakMap()\n\nexport default class Audio extends HTMLAudioElement {\n  HAVE_NOTHING = HAVE_NOTHING\n  HAVE_METADATA = HAVE_METADATA\n  HAVE_CURRENT_DATA = HAVE_CURRENT_DATA\n  HAVE_FUTURE_DATA = HAVE_FUTURE_DATA\n  HAVE_ENOUGH_DATA = HAVE_ENOUGH_DATA\n  readyState = HAVE_NOTHING\n\n  constructor(url) {\n    super()\n\n    _src.set(this, '')\n\n    const innerAudioContext = wx.createInnerAudioContext()\n\n    _innerAudioContext.set(this, innerAudioContext)\n\n    innerAudioContext.onCanplay(() => {\n      this.dispatchEvent({ type: 'load' })\n      this.dispatchEvent({ type: 'loadend' })\n      this.dispatchEvent({ type: 'canplay' })\n      this.dispatchEvent({ type: 'canplaythrough' })\n      this.dispatchEvent({ type: 'loadedmetadata' })\n      this.readyState = HAVE_CURRENT_DATA\n    })\n    innerAudioContext.onPlay(() => {\n      this.dispatchEvent({ type: 'play' })\n    })\n    innerAudioContext.onPause(() => {\n      this.dispatchEvent({ type: 'pause' })\n    })\n    innerAudioContext.onEnded(() => {\n      this.dispatchEvent({ type: 'ended' })\n      this.readyState = HAVE_ENOUGH_DATA\n    })\n    innerAudioContext.onError(() => {\n      this.dispatchEvent({ type: 'error' })\n    })\n\n    if (url) {\n      _innerAudioContext.get(this).src = url\n    }\n  }\n\n  load() {\n    console.warn('HTMLAudioElement.load() is not implemented.')\n  }\n\n  play() {\n    _innerAudioContext.get(this).play()\n  }\n\n  pause() {\n    _innerAudioContext.get(this).pause()\n  }\n\n  canPlayType(mediaType = '') {\n    if (typeof mediaType !== 'string') {\n      return ''\n    }\n\n    if (mediaType.indexOf('audio/mpeg') > -1 || mediaType.indexOf('audio/mp4')) {\n      return 'probably'\n    }\n    return ''\n  }\n\n  get currentTime() {\n    return _innerAudioContext.get(this).currentTime\n  }\n\n  set currentTime(value) {\n    _innerAudioContext.get(this).seek(value)\n  }\n\n  get src() {\n    return _src.get(this)\n  }\n\n  set src(value) {\n    _src.set(this, value)\n    _innerAudioContext.get(this).src = value\n  }\n\n  get loop() {\n    return _innerAudioContext.get(this).loop\n  }\n\n  set loop(value) {\n    _innerAudioContext.get(this).loop = value\n  }\n\n  get autoplay() {\n    return _innerAudioContext.get(this).autoplay\n  }\n\n  set autoplay(value) {\n    _innerAudioContext.get(this).autoplay = value\n  }\n\n  get paused() {\n    return _innerAudioContext.get(this).paused\n  }\n\n  cloneNode() {\n    const newAudio = new Audio()\n\n    newAudio.loop = _innerAudioContext.get(this).loop\n    newAudio.autoplay = _innerAudioContext.get(this).autoplay\n    newAudio.src = this.src\n    return newAudio\n  }\n}\n","import { HTMLCanvasElement, CanvasRenderingContext2D, WebGLRenderingContext } from './constructor'\nimport HTMLElement from './HTMLElement'\nimport document from './document'\n\nconst hasModifiedCanvasPrototype = false\nconst hasInit2DContextConstructor = false\nconst hasInitWebGLContextConstructor = false\n\nexport default function Canvas() {\n  const canvas = wx.createCanvas()\n\n  canvas.type = 'canvas'\n\n  canvas.__proto__.__proto__ = new HTMLCanvasElement('canvas')\n\n  const _getContext = canvas.getContext\n\n  canvas.getBoundingClientRect = () => {\n    const ret = {\n      top: 0,\n      left: 0,\n      width: window.innerWidth,\n      height: window.innerHeight\n    }\n    \n    return ret\n  }\n\n  // pixi.js mapPositionToPoint hack\n  // canvas.__proto__.parentElement = true\n\n  return canvas\n}\n","import Node from './Node'\n\nexport default class ELement extends Node {\n  className = ''\n  children = []\n\n  constructor() {\n    super()\n  }\n}\n","import * as window from '../window'\nimport document from '../document'\nimport { noop } from '../util/'\n\nexport default class TouchEvent {\n  target = window.canvas\n  currentTarget = window.canvas\n  touches = []\n  targetTouches = []\n  changedTouches = []\n  preventDefault = noop\n  stopPropagation = noop\n  constructor(type) {\n    this.type = type\n  }\n}\n\nfunction touchEventHandlerFactory(type) {\n  return (event) => {\n    const touchEvent = new TouchEvent(type)\n\n    touchEvent.touches = event.touches\n    touchEvent.targetTouches = Array.prototype.slice.call(event.touches)\n    touchEvent.changedTouches = event.changedTouches\n    touchEvent.timeStamp = event.timeStamp\n    document.dispatchEvent(touchEvent)\n  }\n}\n\nwx.onTouchStart(touchEventHandlerFactory('touchstart'))\nwx.onTouchMove(touchEventHandlerFactory('touchmove'))\nwx.onTouchEnd(touchEventHandlerFactory('touchend'))\nwx.onTouchCancel(touchEventHandlerFactory('touchcancel'))\n","import './TouchEvent'\n","const _events = new WeakMap()\n\nclass EventTarget {\n  constructor() {\n    _events.set(this, {})\n  }\n\n  addEventListener(type, listener, options = {}) {\n    let events = _events.get(this)\n\n    if (!events) {\n      events = {}\n      _events.set(this, events)\n    }\n    if (!events[type]) {\n      events[type] = []\n    }\n    events[type].push(listener)\n\n    if (options.capture) {\n      console.warn('EventTarget.addEventListener: options.capture is not implemented.')\n    }\n    if (options.once) {\n      console.warn('EventTarget.addEventListener: options.once is not implemented.')\n    }\n    if (options.passive) {\n      console.warn('EventTarget.addEventListener: options.passive is not implemented.')\n    }\n  }\n\n  removeEventListener(type, listener) {\n    const listeners = _events.get(this)[type]\n\n    if (listeners && listeners.length > 0) {\n      for (let i = listeners.length; i--; i > 0) {\n        if (listeners[i] === listener) {\n          listeners.splice(i, 1)\n          break\n        }\n      }\n    }\n  }\n\n  dispatchEvent(event = {}) {\n    const listeners = _events.get(this)[event.type]\n\n    if (listeners) {\n      for (let i = 0; i < listeners.length; i++) {\n        listeners[i](event)\n      }\n    }\n  }\n}\n\nexport default EventTarget\n","/*\n * TODO 使用 wx.readFile 来封装 FileReader\n */\nexport default class FileReader {\n  construct() {\n  }\n}\n","import HTMLMediaElement from './HTMLMediaElement'\n\nexport default class HTMLAudioElement extends HTMLMediaElement {\n  constructor() {\n    super('audio')\n  }\n}\n","import Element from './Element'\nimport { noop } from './util'\nimport { innerWidth, innerHeight } from './WindowProperties'\n\nexport default class HTMLElement extends Element {\n  className = ''\n  childern = []\n  style = {\n    width: `${innerWidth}px`,\n    height: `${innerHeight}px`\n  }\n\n  insertBefore = noop\n\n  innerHTML = ''\n\n  constructor(tagName = '') {\n    super()\n    this.tagName = tagName.toUpperCase()\n  }\n\n  setAttribute(name, value) {\n    this[name] = value\n  }\n\n  getAttribute(name) {\n    return this[name]\n  }\n\n  get clientWidth() {\n    const ret = parseInt(this.style.fontSize, 10) * this.innerHTML.length\n\n    return Number.isNaN(ret) ? 0 : ret\n  }\n\n  get clientHeight() {\n    const ret = parseInt(this.style.fontSize, 10)\n\n    return Number.isNaN(ret) ? 0 : ret\n  }\n\n  getBoundingClientRect() {\n    return {\n      top: 0,\n      left: 0,\n      width: innerWidth,\n      height: innerHeight\n    }\n  }\n\n  focus() {\n  }\n}\n","import HTMLElement from './HTMLElement'\n\nexport default class HTMLMediaElement extends HTMLElement {\n  constructor(type) {\n    super(type)\n  }\n\n  addTextTrack() {\n  }\n\n  captureStream() {\n  }\n\n  fastSeek() {\n  }\n\n  load() {\n  }\n\n  pause() {\n  }\n\n  play() {\n  }\n}\n","export default function Image() {\n  const image = wx.createImage()\n\n  return image\n}\n","import EventTarget from './EventTarget'\n\nexport default class Node extends EventTarget {\n  constructor() {\n    super()\n  }\n\n  childNodes = []\n\n  appendChild(node) {\n    if (node instanceof Node) {\n      this.childNodes.push(node)\n    } else {\n      throw new TypeError('Failed to executed \\'appendChild\\' on \\'Node\\': parameter 1 is not of type \\'Node\\'.')\n    }\n  }\n\n  cloneNode() {\n    const copyNode = Object.create(this)\n\n    Object.assign(copyNode, this)\n    return copyNode\n  }\n\n  removeChild(node) {\n    const index = this.childNodes.findIndex((child) => child === node)\n\n    if (index > -1) {\n      return this.childNodes.splice(index, 1)\n    }\n    return null\n  }\n}\n","const _socketTask = new WeakMap()\n\nclass WebSocket {\n  static CONNECTING = 0 // The connection is not yet open.\n  static OPEN = 1 // The connection is open and ready to communicate.\n  static CLOSING = 2 // The connection is in the process of closing.\n  static CLOSED = 3 // The connection is closed or couldn't be opened.\n\n  binaryType = '' // TODO 更新 binaryType\n  bufferedAmount = 0 // TODO 更新 bufferedAmount\n  extensions = ''\n\n  onclose = null\n  onerror = null\n  onmessage = null\n  onopen = null\n\n  protocol = '' // TODO 小程序内目前获取不到，实际上需要根据服务器选择的 sub-protocol 返回\n  readyState = 3\n\n  constructor(url, protocols = []) {\n    if (typeof url !== 'string' || !(/(^ws:\\/\\/)|(^wss:\\/\\/)/).test(url)) {\n      throw new TypeError(`Failed to construct 'WebSocket': The URL '${url}' is invalid`)\n    }\n\n    this.url = url\n    this.readyState = WebSocket.CONNECTING\n\n    const socketTask = wx.connectSocket({\n      url,\n      protocols: Array.isArray(protocols) ? protocols : [protocols]\n    })\n\n    _socketTask.set(this, socketTask)\n\n    socketTask.onClose((res) => {\n      this.readyState = WebSocket.CLOSED\n      if (typeof this.onclose === 'function') {\n        this.onclose(res)\n      }\n    })\n\n    socketTask.onMessage((res) => {\n      if (typeof this.onmessage === 'function') {\n        this.onmessage(res)\n      }\n    })\n\n    socketTask.onOpen(() => {\n      this.readyState = WebSocket.OPEN\n      if (typeof this.onopen === 'function') {\n        this.onopen()\n      }\n    })\n\n    socketTask.onError((res) => {\n      if (typeof this.onerror === 'function') {\n        this.onerror(new Error(res.errMsg))\n      }\n    })\n\n    return this\n  }\n\n  close(code, reason) {\n    this.readyState = WebSocket.CLOSING\n    const socketTask = _socketTask.get(this)\n\n    socketTask.close({\n      code,\n      reason\n    })\n  }\n\n  send(data) {\n    if (typeof data !== 'string' && !(data instanceof ArrayBuffer)) {\n      throw new TypeError(`Failed to send message: The data ${data} is invalid`)\n    }\n\n    const socketTask = _socketTask.get(this)\n\n    socketTask.send({\n      data\n    })\n  }\n}\n\nexport default WebSocket\n","const { screenWidth, screenHeight, devicePixelRatio } = wx.getSystemInfoSync()\n\nexport const innerWidth = screenWidth\nexport const innerHeight = screenHeight\nexport { devicePixelRatio }\nexport const screen = {\n  availWidth: innerWidth,\n  availHeight: innerHeight\n}\nexport const ontouchstart = null\nexport const ontouchmove = null\nexport const ontouchend = null\n\nexport performance from './performance'\n","const _url = new WeakMap()\nconst _method = new WeakMap()\nconst _requestHeader = new WeakMap()\nconst _responseHeader = new WeakMap()\nconst _requestTask = new WeakMap()\n\nfunction _triggerEvent(type, ...args) {\n  if (typeof this[`on${type}`] === 'function') {\n    this[`on${type}`].apply(this, args)\n  }\n}\n\nfunction _changeReadyState(readyState) {\n  this.readyState = readyState\n  _triggerEvent.call(this, 'readystatechange')\n}\n\nexport default class XMLHttpRequest {\n  // TODO 没法模拟 HEADERS_RECEIVED 和 LOADING 两个状态\n  static UNSEND = 0\n  static OPENED = 1\n  static HEADERS_RECEIVED = 2\n  static LOADING = 3\n  static DONE = 4\n\n  /*\n   * TODO 这一批事件应该是在 XMLHttpRequestEventTarget.prototype 上面的\n   */\n  onabort = null\n  onerror = null\n  onload = null\n  onloadstart = null\n  onprogress = null\n  ontimeout = null\n  onloadend = null\n\n  onreadystatechange = null\n  readyState = 0\n  response = null\n  responseText = null\n  responseType = ''\n  responseXML = null\n  status = 0\n  statusText = ''\n  upload = {}\n  withCredentials = false\n\n  constructor() {\n    _requestHeader.set(this, {\n      'content-type': 'application/x-www-form-urlencoded'\n    })\n    _responseHeader.set(this, {})\n  }\n\n  addEventListener(ev, cb) {\n    this[`on${ev}`] = cb\n  }\n\n  abort() {\n    const myRequestTask =  _requestTask.get(this)\n\n    if (myRequestTask) {\n      myRequestTask.abort()\n    }\n  }\n\n  getAllResponseHeaders() {\n    const responseHeader = _responseHeader.get(this)\n\n    return Object.keys(responseHeader).map((header) => {\n      return `${header}: ${responseHeader[header]}`\n    }).join('\\n')\n  }\n\n  getResponseHeader(header) {\n    return _responseHeader.get(this)[header]\n  }\n\n  open(method, url/* async, user, password 这几个参数在小程序内不支持*/) {\n    _method.set(this, method)\n    _url.set(this, url)\n    _changeReadyState.call(this, XMLHttpRequest.OPENED)\n  }\n\n  overrideMimeType() {\n  }\n\n  send(data = '') {\n    if (this.readyState !== XMLHttpRequest.OPENED) {\n      throw new Error(\"Failed to execute 'send' on 'XMLHttpRequest': The object's state must be OPENED.\")\n    } else {\n      const responseType = this.responseType === 'blob' ?\n        (this.responseType = 'arraybuffer', 'blob') : null\n\n      wx.request({\n        data,\n        url: _url.get(this),\n        method: _method.get(this),\n        header: _requestHeader.get(this),\n        responseType: this.responseType,\n        success: ({ data, statusCode, header }) => {\n          if (typeof data !== 'string' && !(data instanceof ArrayBuffer)) {\n            try {\n              data = JSON.stringify(data)\n            } catch (e) {\n              data = data\n            }\n          }\n\n          this.status = statusCode\n          _responseHeader.set(this, header)\n          _triggerEvent.call(this, 'loadstart')\n          _changeReadyState.call(this, XMLHttpRequest.HEADERS_RECEIVED)\n          _changeReadyState.call(this, XMLHttpRequest.LOADING)\n          this.response = responseType === 'blob' ? _url.get(this) : data\n          if (data instanceof ArrayBuffer) {\n            this.responseText = ''\n            const bytes = new Uint8Array(data)\n            const len = bytes.byteLength\n\n            for (let i = 0; i < len; i++) {\n              this.responseText += String.fromCharCode(bytes[i])\n            }\n          } else {\n            this.responseText = data\n          }\n          _changeReadyState.call(this, XMLHttpRequest.DONE)\n          _triggerEvent.call(this, 'load', { target: this })\n          _triggerEvent.call(this, 'loadend')\n        },\n        fail: ({ errMsg }) => {\n          // TODO 规范错误\n          if (errMsg.indexOf('abort') !== -1) {\n            _triggerEvent.call(this, 'abort')\n          } else {\n            _triggerEvent.call(this, 'error', errMsg)\n          }\n          _triggerEvent.call(this, 'loadend')\n        }\n      })\n    }\n  }\n\n  setRequestHeader(header, value) {\n    const myHeader = _requestHeader.get(this)\n\n    myHeader[header] = value\n    _requestHeader.set(this, myHeader)\n  }\n}\n","import HTMLElement from './HTMLElement'\n\nexport class HTMLImageElement extends HTMLElement {\n  constructor() {\n    super('img')\n  }\n}\n\nexport class HTMLCanvasElement extends HTMLElement {\n  constructor() {\n    super('canvas')\n  }\n}\n","import * as window from './window'\nimport HTMLElement from './HTMLElement'\nimport Image from './Image'\nimport Audio from './Audio'\nimport Canvas from './Canvas'\nimport './EventIniter/'\n\nconst events = {}\n\nconst document = {\n  readyState: 'complete',\n  visibilityState: 'visible',\n  documentElement: window,\n  hidden: false,\n  style: {},\n  location: window.location,\n  ontouchstart: null,\n  ontouchmove: null,\n  ontouchend: null,\n\n  head: new HTMLElement('head'),\n  body: new HTMLElement('body'),\n\n  createElement(tagName) {\n    if (tagName === 'canvas') {\n      return new Canvas()\n    } else if (tagName === 'audio') {\n      return new Audio()\n    } else if (tagName === 'img') {\n      return new Image()\n    }\n\n    return new HTMLElement(tagName)\n  },\n\n  getElementById(id) {\n    if (id === window.canvas.id) {\n      return window.canvas\n    }\n    return null\n  },\n\n  getElementsByTagName(tagName) {\n    if (tagName === 'head') {\n      return [document.head]\n    } else if (tagName === 'body') {\n      return [document.body]\n    } else if (tagName === 'canvas') {\n      return [window.canvas]\n    }\n    return []\n  },\n\n  getElementsByName(tagName) {\n    if (tagName === 'head') {\n      return [document.head]\n    } else if (tagName === 'body') {\n      return [document.body]\n    } else if (tagName === 'canvas') {\n      return [window.canvas]\n    }\n    return []\n  },\n\n  querySelector(query) {\n    if (query === 'head') {\n      return document.head\n    } else if (query === 'body') {\n      return document.body\n    } else if (query === 'canvas') {\n      return window.canvas\n    } else if (query === `#${window.canvas.id}`) {\n      return window.canvas\n    }\n    return null\n  },\n\n  querySelectorAll(query) {\n    if (query === 'head') {\n      return [document.head]\n    } else if (query === 'body') {\n      return [document.body]\n    } else if (query === 'canvas') {\n      return [window.canvas]\n    }\n    return []\n  },\n\n  addEventListener(type, listener) {\n    if (!events[type]) {\n      events[type] = []\n    }\n    events[type].push(listener)\n  },\n\n  removeEventListener(type, listener) {\n    const listeners = events[type]\n\n    if (listeners && listeners.length > 0) {\n      for (let i = listeners.length; i--; i > 0) {\n        if (listeners[i] === listener) {\n          listeners.splice(i, 1)\n          break\n        }\n      }\n    }\n  },\n\n  dispatchEvent(event) {\n    const listeners = events[event.type]\n\n    if (listeners) {\n      for (let i = 0; i < listeners.length; i++) {\n        listeners[i](event)\n      }\n    }\n  }\n}\n\nexport default document\n","import * as _window from './window'\nimport HTMLElement from './HTMLElement'\n\nconst global = GameGlobal\n\nfunction inject() {\n  _window.addEventListener = (type, listener) => {\n    _window.document.addEventListener(type, listener)\n  }\n  _window.removeEventListener = (type, listener) => {\n    _window.document.removeEventListener(type, listener)\n  }\n\n  if (_window.canvas) {\n    _window.canvas.addEventListener = _window.addEventListener\n    _window.canvas.removeEventListener = _window.removeEventListener\n  }\n\n  const { platform } = wx.getSystemInfoSync()\n\n  // 开发者工具无法重定义 window\n  if (platform === 'devtools') {\n    for (const key in _window) {\n      const descriptor = Object.getOwnPropertyDescriptor(global, key)\n\n      if (!descriptor || descriptor.configurable === true) {\n        Object.defineProperty(window, key, {\n          value: _window[key]\n        })\n      }\n    }\n\n    for (const key in _window.document) {\n      const descriptor = Object.getOwnPropertyDescriptor(global.document, key)\n\n      if (!descriptor || descriptor.configurable === true) {\n        Object.defineProperty(global.document, key, {\n          value: _window.document[key]\n        })\n      }\n    }\n    window.parent = window\n  } else {\n    for (const key in _window) {\n      global[key] = _window[key]\n    }\n    global.window = _window\n    window = global\n    window.top = window.parent = window\n  }\n}\n\nif (!GameGlobal.__isAdapterInjected) {\n  GameGlobal.__isAdapterInjected = true\n  inject()\n}\n","const localStorage = {\n  get length() {\n    const { keys } = wx.getStorageInfoSync()\n\n    return keys.length\n  },\n\n  key(n) {\n    const { keys } = wx.getStorageInfoSync()\n\n    return keys[n]\n  },\n\n  getItem(key) {\n    return wx.getStorageSync(key)\n  },\n\n  setItem(key, value) {\n    return wx.setStorageSync(key, value)\n  },\n\n  removeItem(key) {\n    wx.removeStorageSync(key)\n  },\n\n  clear() {\n    wx.clearStorageSync()\n  }\n}\n\nexport default localStorage\n","const location = {\n  href: 'game.js',\n  reload() {\n  }\n}\n\nexport default location\n","import { noop } from './util'\n\n// TODO 需要 wx.getSystemInfo 获取更详细信息\nconst { platform } = wx.getSystemInfoSync()\nconst navigator = {\n  platform,\n  language: 'zh-cn',\n  appVersion: '5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1',\n  userAgent: 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Mobile/14E8301 MicroMessenger/6.6.0 MiniGame NetType/WIFI Language/zh_CN',\n  onLine: true, // TODO 用 wx.getNetworkStateChange 和 wx.onNetworkStateChange 来返回真实的状态\n\n  // TODO 用 wx.getLocation 来封装 geolocation\n  geolocation: {\n    getCurrentPosition: noop,\n    watchPosition: noop,\n    clearWatch: noop\n  }\n}\n\nexport default navigator\n","let performance\n\nif (wx.getPerformance) {\n  const { platform } = wx.getSystemInfoSync()\n  const wxPerf = wx.getPerformance()\n  const initTime = wxPerf.now()\n\n  const clientPerfAdapter = Object.assign({}, wxPerf, {\n    now: function() {\n      return (wxPerf.now() - initTime) / 1000\n    }\n  })\n\n  performance = platform === 'devtools' ? wxPerf : clientPerfAdapter\n}\n\nexport default performance\n","export function noop() {}\n","import Canvas from './Canvas'\n\nexport document from './document'\nexport navigator from './navigator'\nexport XMLHttpRequest from './XMLHttpRequest'\nexport WebSocket from './WebSocket'\nexport Image from './Image'\nexport Audio from './Audio'\nexport FileReader from './FileReader'\nexport HTMLElement from './HTMLElement'\nexport localStorage from './localStorage'\nexport location from './location'\nexport * from './WindowProperties'\nexport * from './constructor'\n\n// 暴露全局的 canvas\nconst canvas = new Canvas()\n\n// Fallback Intl\nconst Intl = false\n\nexport { canvas, Intl }\n// export { setTimeout }\n// export { setInterval }\n// export { clearTimeout }\n// export { clearInterval }\n// export { requestAnimationFrame }\n// export { cancelAnimationFrame }\n\nexport TouchEvent from './EventIniter/TouchEvent'\n"],"sourceRoot":""}